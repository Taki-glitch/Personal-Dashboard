<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flashcards â€“ Russe</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<button id="toggle-theme" aria-label="Changer le thÃ¨me">ğŸŒ™</button>
<button id="menu-btn" aria-label="Ouvrir le menu">â˜°</button>

<div id="overlay"></div>

<nav id="side-menu">
  <button id="close-menu" aria-label="Fermer le menu">âœ•</button>
  
  <div id="user-profile" style="padding: 20px; border-bottom: 1px solid #eee; text-align: center;">
      <p id="user-status" style="font-size: 0.9rem; color: gray; margin-bottom: 10px;">Chargement...</p>
      <div id="user-info" style="display: none;">
          <strong id="user-name" style="display: block; margin-bottom: 10px; font-size: 1rem; color: #333;">Utilisateur</strong>
          <button id="btn-logout" style="background: none; border: 1px solid #e74c3c; color: #e74c3c; padding: 5px 10px; border-radius: 5px; cursor: pointer;">DÃ©connexion</button>
      </div>
      <div id="user-guest" style="display:none;">
          <a href="login.html" style="text-decoration: none; color: #007ACC; font-weight: bold;">Se connecter</a>
      </div>
  </div>

  <ul>
    <li><a href="index.html">ğŸ“Š Dashboard</a></li>
    <li><a href="flashcards.html" class="active">ğŸ§  Flashcards</a></li>
    <li><a href="budget.html">ğŸ’° Budget</a></li>
  </ul>
</nav>

<header>
  <h1>ğŸ“š Flashcards</h1>
  <p>Apprentissage par rÃ©pÃ©tition espacÃ©e (SRS)</p>
</header>
  
<main>
    <section class="card">
        <h2>ğŸ“Š Statistiques</h2>
        <ul id="stats">
          <li>ğŸ“š Total : <strong id="stat-total">0</strong></li>
          <li>ğŸ†• Nouveaux : <strong id="stat-new">0</strong></li>
          <li>ğŸ” Ã€ revoir : <strong id="stat-review">0</strong></li>
          <li>â­ MaÃ®trisÃ©s : <strong id="stat-known">0</strong></li>
          <li>ğŸ“ˆ RÃ©ussite : <strong id="stat-success">0%</strong></li>
        </ul>
      </section>
    
      <section class="card" id="studyArea">
        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
          <select id="langFilter" style="flex: 1; padding: 10px; border-radius: 8px;">
              <option value="all">Toutes les langues</option>
          </select>
          <select id="tagFilter" style="flex: 1; padding: 10px; border-radius: 8px;">
              <option value="all">Tous les tags</option>
          </select>
        </div>
        <ul id="flashcardsList"></ul>
      </section>
      
      <section class="card" id="performanceDashboard">
        <h2>ğŸ“Š Performance & Suggestions</h2>
        <div id="dashboardStats">
          <p id="todayRevised">Cartes rÃ©visÃ©es aujourd'hui : 0</p>
          <p id="todaySuccess">RÃ©ussites : 0 / Ã‰checs : 0</p>
        </div>
        <div id="priorityCards">
          <h3>ğŸ“… Ã€ rÃ©viser demain :</h3>
          <ul id="priorityList"></ul>
        </div>
        <div id="tagProgress">
          <h3>ğŸ“ˆ ProgrÃ¨s par catÃ©gorie :</h3>
          <ul id="tagList"></ul>
        </div>
      </section>
    
      <section class="card">
        <h2>ğŸ“ˆ Progression quotidienne</h2>
        <canvas id="progressChart" width="400" height="200"></canvas>
      </section>
    
      <section class="card">
        <h2>ğŸ’¾ Gestion des donnÃ©es</h2>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <button id="exportFlashcards">Exporter JSON</button>
            <button id="btnImportFlashcards">Importer JSON</button>
            <input type="file" id="importFlashcards" accept=".json" style="display:none;">
            <button id="clearFlashcards" style="background-color: #e74c3c;">ğŸ—‘ Tout effacer</button>
        </div>
      </section>
    
      <div id="reviewOverlay" class="overlay">
        <div class="review-modal">
          <div id="timerDisplay" style="position: absolute; top: 10px; right: 10px; font-weight: bold; color: #555;">â± 00:00</div>
          <h2 id="reviewQuestion">Mot</h2>
          <p id="reviewContext" style="font-style: italic; color: #666;"></p>
          
          <div id="reviewAnswer" class="hidden">
            <h3 id="reviewResult">Traduction</h3>
            <div class="review-buttons">
              <button class="btn-difficulty easy" onclick="handleReview('easy')>"Facile (4j)"</button>
              <button class="btn-difficulty good" onclick="handleReview('good')>"Bien (2j)"</button>
              <button class="btn-difficulty hard" onclick="handleReview('hard')>"Difficile "(1j)</button>
              <button class="btn-difficulty again" onclick="handleReview('again')>"Ã€ revoir (<10m)"</button>
            </div>
          </div>
    
          <button id="showAnswerBtn">Voir la rÃ©ponse</button>
          <button id="closeReview" style="margin-top: 20px; background: transparent; color: #888;">Quitter</button>
        </div>
      </div>
</main>

<script type="module" src="common.js"></script>
<script type="module" src="flashcards.js"></script>

</body>
</html>
