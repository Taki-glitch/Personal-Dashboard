<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ğŸ’° Budget</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<button id="toggle-theme">ğŸŒ™</button>
<button id="menu-btn">â˜°</button>

<nav id="side-menu">
  <button id="close-menu">âœ•</button>
  
  <div id="user-profile" style="padding: 20px; border-bottom: 1px solid #eee; text-align: center;">
    <p id="user-status" style="font-size: 0.9rem; color: gray; margin-bottom: 10px;">Chargement...</p>
    <div id="user-info" style="display: none;">
      <strong id="user-name" style="display: block; margin-bottom: 10px; font-size: 1rem;">Utilisateur</strong>
      <button id="btn-logout" style="background: none; border: 1px solid #e74c3c; color: #e74c3c; padding: 5px 10px; border-radius: 5px; cursor: pointer;">DÃ©connexion</button>
    </div>
    <div id="user-guest">
      <a href="login.html" style="text-decoration: none; color: #007ACC; font-weight: bold;">Se connecter</a>
    </div>
  </div>

  <ul>
    <li><a href="index.html">ğŸ“Š Dashboard</a></li>
    <li><a href="flashcards.html">ğŸ§  Flashcards</a></li>
    <li><a href="budget.html" class="active">ğŸ’° Budget</a></li>
  </ul>
</nav>

<div id="overlay"></div>

<header>
  <h1>ğŸ’° Gestion Budget</h1>
</header>

<main>
  <section class="card">
    <h2>â• Ajouter une dÃ©pense</h2>
    <input type="number" id="amount" placeholder="Montant (â‚¬)">
    <input type="date" id="expense-date"> <select id="category" class="full-width">
      <option value="Courses">ğŸ›’ Courses</option>
      <option value="Logement">ğŸ  Logement</option>
      <option value="VÃªtements">ğŸ‘• VÃªtements</option>
      <option value="Loisirs">ğŸ® Loisirs</option>
      <option value="Autre">ğŸ“¦ Autre</option>
    </select>
    <input type="text" id="note" placeholder="Note (optionnel)">
    <button id="add-expense" class="btn-primary full-width">
  		â• Ajouter la dÃ©pense
		</button>
  </section>

  <section class="card" style="text-align: center;">
    <div class="month-selector" style="display: flex; align-items: center; justify-content: center; gap: 20px;">
      <button id="prev-month" class="btn-circle btn-nav">â—€</button>
			
      <h2 id="current-month-label" style="margin:0; min-width:150px;">
			â€”
			</h2>
		
    <button id="next-month" class="btn-circle btn-nav">â–¶</button>
    </div>
  </section>

  <section class="card">
    <h2>ğŸ¯ Budgets mensuels</h2>
    <label>Budget Global (â‚¬)</label>
    <input type="number" id="budget-global" placeholder="Ex: 1000">
    <button id="save-budget-global" class="btn-secondary full-width">
  			ğŸ’¾ Enregistrer le budget global
		</button>

    <hr style="margin:20px 0; border: 0; border-top: 1px solid #eee;">

    <label>Par catÃ©gorie</label>
    <select id="budget-category" class="full-width">
      <option value="Courses">Courses</option>
      <option value="Logement">Logement</option>
      <option value="VÃªtements">VÃªtements</option>
      <option value="Loisirs">Loisirs</option>
      <option value="Autre">Autre</option>
    </select>
    <input type="number" id="budget-category-amount" placeholder="Montant (â‚¬)">
    <button id="save-budget-category" class="btn-secondary full-width">
  			ğŸ’¾ Enregistrer le budget catÃ©gorie
		</button>
  </section>

  <section class="card">
    <h2>ğŸ“Š Ã‰tat du mois</h2>
    <div class="budget-block">
      <strong>Total mensuel</strong>
      <div class="budget-bar"><div id="global-budget-bar"></div></div>
      <small id="global-budget-text">0 â‚¬ / 0 â‚¬</small>
    </div>
    <div id="category-budgets"></div>
  </section>

  <section class="card">
    <h2>ğŸ“„ DÃ©tails des dÃ©penses</h2>
    <ul id="expense-list"></ul>
  </section>

  <section class="card">
    <canvas id="chart-month" height="200"></canvas>
    <canvas id="chart-categories" height="200"></canvas>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module" src="budget.js"></script>
</body>
</html>
