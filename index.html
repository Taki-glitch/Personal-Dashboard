<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mon Dashboard Personnel</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

  <header>
    <h1>Bienvenue !</h1>

    <div id="weather-bar">
      <div class="weather-day">
        <div class="weather-title">Aujourdâ€™hui</div>
        <div class="weather-hours" id="weather-today"></div>
      </div>
      <div class="weather-day">
        <div class="weather-title">Demain</div>
        <div class="weather-hours" id="weather-tomorrow"></div>
      </div>
    </div>
  </header>

  <main>
    <section id="flashcard-widget" class="card">
      <h2>ğŸ§  RÃ©visions du jour <span id="sprint-timer" style="font-size: 0.9rem; font-weight: normal; color: #007ACC; float: right;">â±ï¸ 00:00</span></h2>
      
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
        <div>
          <p id="widget-count" style="font-size: 1.2rem; margin: 0; font-weight: bold;">Chargement...</p>
          <p id="widget-goal-text" style="font-size: 0.9rem; margin: 5px 0 0 0; color: gray;">Objectif : 0/10</p>
        </div>
        <a href="flashcards.html" class="btn-primary" style="text-decoration: none; background: #007ACC; color: white; padding: 12px 18px; border-radius: 8px; font-weight: bold;">
          ğŸš€ RÃ©viser
        </a>
      </div>

      <div style="background: #eee; height: 12px; border-radius: 6px; overflow: hidden; width: 100%;">
        <div id="widget-progress-bar" style="background: #007ACC; width: 0%; height: 100%; transition: width 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);"></div>
      </div>
    </section>

    <section id="russian-word-widget" class="card" style="text-align: center; border-left: 5px solid #007ACC;">
      <h2 style="font-size: 1rem; color: gray;">ğŸ‡·ğŸ‡º Mot du jour</h2>
      <div id="word-content">
        <h1 id="word-russe" style="margin: 10px 0; font-size: 2.2rem; color: #333;">...</h1>
        <p id="word-trad" style="font-style: italic; color: #007ACC; font-size: 1.3rem;">chargement...</p>
      </div>
    </section>
    
    <section id="todo">
      <h2>Liste de tÃ¢ches</h2>
      <div class="input-group">
        <input type="text" id="new-task" placeholder="Nouvelle tÃ¢che...">
        <button id="add-task">Ajouter</button>
      </div>
      <ul id="task-list"></ul>
    </section>

    <section id="budget-widget" class="card">
      <h2>ğŸ’° Mon Budget</h2>

      <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 20px;">
        <div style="flex: 1; min-width: 150px;">
          <p style="font-size: 1.4rem; margin: 10px 0;">
            <strong id="budget-month-total">0 â‚¬</strong>
            <br>
            <small style="color: gray;">DÃ©pensÃ© ce mois-ci</small>
          </p>
          <p style="margin-bottom: 15px;">
            Aujourdâ€™hui : <strong id="budget-today-total">0 â‚¬</strong>
          </p>
          <a href="budget.html" class="btn-primary" style="display:inline-block; text-decoration:none; background:#007ACC; color:white; padding:10px 15px; border-radius:8px; font-weight: bold;">
            ğŸ“Š DÃ©tails & Ajout
          </a>
        </div>

        <div style="flex: 1; min-width: 200px; max-width: 250px;">
          <canvas id="widget-chart-categories" height="150"></canvas>
        </div>
      </div>

      <div style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
        <h3 style="font-size: 0.9rem; color: gray; margin-bottom: 10px;">Ã‰volution du mois</h3>
        <canvas id="widget-chart-month" height="120"></canvas>
      </div>
    </section>



    <section id="rss">
      <div class="rss-header">
        <h2>Flux RSS <button id="refresh-rss" title="Actualiser">ğŸ”„</button></h2>
      </div>

      <div id="rss-manage">
        <input type="text" id="rss-name" placeholder="Nom (ex: Le Monde)">
        <input type="text" id="rss-url" placeholder="URL du flux RSS">
        <button id="add-rss">Ajouter la source</button>
      </div>

      <div id="rss-sources-pills"></div>
      <ul id="rss-list"></ul>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="script.js"></script>

  <script type="module">
    import { initMenu } from './menu.js';
    initMenu();
  </script>
</body>
</html>
